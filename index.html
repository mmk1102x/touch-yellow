<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touch Yellow RE</title>
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Roboto:wght@700&display=swap" rel="stylesheet">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Roboto', sans-serif; background-color: #4d4d4d; }
        
        /* Screens */
        .screen { position: absolute; width: 100%; height: 100%; display: none; }
        #menu-screen { display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 20; }
        
        /* The Game World */
        #game-screen { background-color: black; z-index: 10; cursor: default; }

        /* Menu UI */
        .title { font-family: 'Luckiest Guy', cursive; color: #f2ef45; font-size: clamp(50px, 10vw, 90px); line-height: 0.8; margin-bottom: 80px; text-transform: uppercase; text-shadow: 3px 3px 0px #000; text-align: center; pointer-events: none; }
        .options-container { display: flex; flex-direction: column; gap: 40px; width: 300px; }
        .option { display: flex; align-items: center; cursor: pointer; color: #000; transition: transform 0.1s; }
        .option:hover { transform: scale(1.05); }
        .circle { background-color: #f2a922; border-radius: 50%; border: 3px solid #333; margin-right: 20px; flex-shrink: 0; }
        .start-circle { width: 45px; height: 45px; }
        .exit-circle { width: 75px; height: 75px; }
        .label { font-size: 30px; font-weight: 900; white-space: nowrap; }
        .label-large { font-size: 65px; }

        /* Maze Segments */
        .path { position: absolute; background-color: #26a9e1; z-index: 11; }
        .goal { position: absolute; background-color: #f1a92a; z-index: 12; }
    </style>
</head>
<body oncontextmenu="return false;"> <!-- Block right click to prevent cheating -->

    <!-- MENU SCREEN -->
    <div id="menu-screen" class="screen" style="display: flex;">
        <h1 class="title">Touch yellow<br>RE</h1>
        <div class="options-container">
            <div class="option" onclick="startLevel(1)">
                <div id="start-anchor" class="circle start-circle"></div>
                <div class="label"><- Start/Restart</div>
            </div>
            <div class="option" onclick="exitGame()">
                <div class="circle exit-circle"></div>
                <div class="label label-large"><-Exit</div>
            </div>
        </div>
    </div>

    <!-- GAME SCREEN -->
    <div id="game-screen" class="screen" onmouseenter="checkDeath(event)">
        <!-- Path segments will be generated here by JavaScript -->
    </div>

    <script>
        const menu = document.getElementById('menu-screen');
        const game = document.getElementById('game-screen');
        const startAnchor = document.getElementById('start-anchor');

        let gameActive = false;

        function startLevel(lvl) {
            game.innerHTML = ''; // Clear previous level
            game.style.display = 'block';
            menu.style.display = 'none';
            
            // Get Start Button Position
            const rect = startAnchor.getBoundingClientRect();
            const startX = rect.left;
            const startY = rect.top;
            const size = rect.width;

            if (lvl === 1) {
                createPath(0, startY, startX + size + 200, size); // Path from left to start button and beyond
                createPath(startX + size + 150, startY - 200, size, 200 + size); // Vertical Up
                createPath(startX + size + 150, startY - 200, 300, size); // Horizontal Right
                createPath(startX + size + 400, startY - 450, size, 250 + size); // Vertical Up again
                createPath(startX + size + 200, startY - 450, 200 + size, size); // Horizontal Left
                
                // The Goal (Yellow)
                createGoal(startX + size + 200, startY - 550, 100, 100);
            }

            // Small delay to prevent instant death when clicking
            setTimeout(() => { gameActive = true; }, 100);
        }

        function createPath(x, y, w, h) {
            const div = document.createElement('div');
            div.className = 'path';
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            div.style.width = w + 'px';
            div.style.height = h + 'px';
            // Stop death trigger when mouse is over the path
            div.onmouseenter = (e) => { e.stopPropagation(); }; 
            game.appendChild(div);
        }

        function createGoal(x, y, w, h) {
            const div = document.createElement('div');
            div.className = 'goal';
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            div.style.width = w + 'px';
            div.style.height = h + 'px';
            div.onmouseenter = (e) => {
                e.stopPropagation();
                alert("LEVEL COMPLETE!");
                resetToMenu();
            };
            game.appendChild(div);
        }

        function checkDeath(e) {
            if (!gameActive) return;
            // If mouse enters the black background (#game-screen)
            resetToMenu();
        }

        function resetToMenu() {
            gameActive = false;
            game.style.display = 'none';
            menu.style.display = 'flex';
        }

        function exitGame() {
            window.location.href = "https://github.com/mmk1102x/touch-yellow";
        }
    </script>
</body>
</html>